extends ../../layouts/default.pug
include ../../mixins/box-head.pug

block main 
    .container.my-3

        include ../../partials/list-btn-users.pug

        .row 
            .col-12 
                +box-head(pageTitle)

        .row 
            .col-12 
                .chat(my-id=user.id)
                    //- .inner-head.d-flex.align-items-center.p-2
                    //-     img.chat-avatar(src=infoFriend.avatar ? infoFriend.avatar: "/images/user-avatar-male.png", alt="Avatar")
                    //-     span.chat-name.ml-2 #{infoFriend.fullName}
                    .inner-body
                        each chat in chats
                            div(class=chat.infoUser.id == user.id ? "inner-outgoing": "inner-incoming")
                                if (chat.infoUser.id != user.id)
                                    //- .inner-name #{chat.infoUser.fullName}
                                .inner-content
                                    | #{chat.content}
                        div(class="inner-list-typing")

                    .inner-foot
                        form(
                            class="inner-form"
                            action=""
                        )
                            input(
                                type="text"
                                placeholder="Nhập nội dung..."
                                name="content"
                                autocomplete='off'
                            )

                            span(class="button-icon btn btn-light mx-2")
                                i.fa-regular.fa-face-smile

                            button
                                i.fa-solid.fa-paper-plane
        
        div(class="tooltip" role="tooltip")
            emoji-picker(class="light")

    block script 
        script(type="module" src="/js/chat.js")       